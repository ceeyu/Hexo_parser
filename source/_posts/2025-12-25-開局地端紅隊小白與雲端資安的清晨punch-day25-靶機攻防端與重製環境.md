---
title: 【開局地端紅隊小白與雲端資安的清晨Punch】Day25 靶機攻防端與重製環境
date: 2024-09-04 25:00:00
tags: [資訊安全]

source: https://ithelp.ithome.com.tw/articles/10347817
series: 雲端資安
categories:
  - 雲端資安
---

# 靶機攻防端與重製環境

靶機的攻防（也稱為「CTF：攻防演練」或「靶場演練」）是資訊安全領域中一種模擬現實攻擊和防禦情境的實驗活動。靶機通常指的是一台被設置為特定環境或場景的虛擬機器，攻防雙方會在這台機器上進行實戰模擬，以測試和提升他們的資安技能。

## 靶機的攻防的基本概念

1. $1

- 定義: 靶機是一台配置好特定漏洞或場景的虛擬機器，設計為供參與者進行攻擊或防禦練習的目標。靶機上可能包含一個或多個漏洞，參與者需要識別並利用這些漏洞。

- 目的: 通過靶機的設定來模擬現實中的網路攻擊情境，從而讓攻防雙方在一個受控的環境中進行技能測試和提升。

1. $1

- 目標: 攻擊方的目標是通過各種技術手段來入侵靶機，獲取敏感信息、控制權或破壞系統。攻擊方可能使用的技術包括漏洞利用、社交工程、弱點掃描、權限提升等。

- 挑戰: 攻擊方需要精通各種攻擊手段，並能夠迅速識別並利用靶機中的漏洞。同時也需要隱匿自己的行蹤，避免被防禦方發現和攔截。

1. $1

- 目標: 防禦方的任務是保護靶機不受攻擊方的入侵，或至少能夠及時發現並遏制攻擊。防禦措施包括配置防火牆、入侵檢測系統 (IDS)、日誌監控、漏洞修補、系統強化等。

- 挑戰: 防禦方需要具備優秀的監控和響應能力，能夠迅速識別和分析攻擊行為，並採取有效措施來阻止或減輕攻擊的影響。

1. $1

- CTF 比賽: 在資安領域，CTF 是一種競賽形式，參與者分為攻擊方和防禦方，在設定的靶機環境中進行對抗。攻擊方需要找到並利用靶機中的漏洞來奪取旗標 (Flag)，防禦方則要防止攻擊並維護系統安全。

- 旗標 (Flag): 通常是系統中的一段特殊字符串，當攻擊方成功入侵並找到這段字符串時，即代表攻擊成功。

1. $1

- 定義: 這是一種更接近真實世界的攻防演練，通常會模擬一個真實的 IT 基礎設施，攻防雙方在此基礎上進行全方位的對抗。靶機不再是一台單一的機器，而可能是一個完整的網路環境，包括多個伺服器、工作站、網路設備等。

- 目的: 提升參與者在真實世界中的應對能力，熟悉如何在實際的企業環境中進行攻擊或防禦。

## 配置說明(先不加入防禦端)

1. $1

2. $1

並且三端都建置在相同 AWS Cloud --> VPC --> AZ 的Subnet下

## 靶機端

首先依照單機測試的方法，執行前三步驟

docker pull vulfocus/spring-core-rce-2022-03-29:latest

docker run -p 8066:8080 vulfocus/spring-core-rce-2022-03-29:latest

wget https://raw.githubusercontent.com/dinosn/spring-core-rce/main/test.py

## 攻擊端

將後續網址改為防禦端的私有網址內容

python3 test.py --url http://127.104.100.165:8066/

## 靶機畫面

代表遠端攻擊成功

![image](https://hackmd.io/_uploads/Hydx3ZTeA.png)

## 重製環境

dcker ps: 查看CONTAINER_ID

docker stop <CONTAINER_ID>: 停止docker

docker rm <CONTAINER_ID>: 刪除container

docker rmi <IMAGE_ID>: 移除映像檔

```
┌──(root㉿kali)-[/home/iris]
└─# docker stop 884aefa286ca
884aefa286ca

┌──(root㉿kali)-[/home/iris]
└─# docker rm 884aefa286ca
884aefa286ca

┌──(root㉿kali)-[/home/iris]
└─# docker rmi spring-core-rce-2022-03-29:latest
```
