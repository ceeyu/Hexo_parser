# 測試改進後的爬蟲

## 測試命令

```cmd
node tools/爬取ithome文章.js https://ithelp.ithome.com.tw/articles/10344206
```

## 改進內容

### 1. 標題抓取
- ✅ 優先從 `<title>` 標籤抓取
- ✅ 自動移除 "- iT 邦幫忙" 等網站名稱
- ✅ 降級方案：如果 title 標籤失敗，嘗試 h2 標籤

### 2. 日期抓取
- ✅ 從 `<time datetime="">` 屬性抓取
- ✅ 降級方案：從 meta 標籤抓取
- ✅ 改進日期格式處理

### 3. 標籤過濾
- ✅ 移除重複標籤
- ✅ 過濾掉 "16th鐵人賽"、"2019鐵人賽" 等無用標籤
- ✅ 限制最多 5 個標籤

### 4. 內容抓取
- ✅ 支持多種 CSS 選擇器
- ✅ 改進 HTML 轉 Markdown 邏輯

## 預期結果

應該會看到：
```
🔍 正在抓取文章...

📝 標題: 【開局地獄紅隊內白與雲端資安的清晨Punch】Day1 宣在前面
📅 日期: 2025-12-25
🏷️  標籤: AWS, 雲端, 資訊安全
📏 內容長度: XXXX 字元

✅ 文章已保存！
📄 文件位置: C:\Users\...\source\_posts\2025-12-25-xxx.md
```

## 如果還是顯示「未知標題」

可能原因：
1. iThome 有反爬蟲機制（需要瀏覽器環境）
2. 網路連線問題

解決方案：
- 使用改進後的書籤工具（在瀏覽器中運行）
- 或繼續使用手動複製方式
